<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[SWE-bench Verified] Detecting cheating in submissions - SWE-bench Blog</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-H9XFCMDPNS"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-H9XFCMDPNS");
    </script>
    <script>
      // Initialize theme immediately to prevent flash
      (function() {
        const storedTheme = localStorage.getItem('theme');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        if (storedTheme === 'dark' || (!storedTheme && prefersDark)) {
          document.documentElement.classList.add('dark-mode');
        }
      })();
    </script>
    
    <link rel="icon" href="favicon.ico" type="image/x-icon">

</head>
<body>
    <div class="sidebar-overlay"></div>
<header class="mobile-header">
    <a href="/" class="mobile-logo"><img src="img/swe-llama.svg" alt="SWE-bench logo" class="sidebar-logo-icon">SWE-bench</a>
    <button class="sidebar-opener" aria-label="Open menu">
        <i class="fas fa-bars"></i>
    </button>
</header>

<aside class="sidebar" aria-label="Sidebar">
    <div class="sidebar-header">
         <a href="/" class="sidebar-logo"><img src="img/swe-llama.svg" alt="SWE-bench logo" class="sidebar-logo-icon">SWE-bench</a>
         <button class="mobile-nav-toggle" aria-label="Close menu">
             <i class="fas fa-times"></i>
         </button>
    </div>
    <nav class="sidebar-nav">
        <ul>
            <li><a href="index.html" class="nav-link" data-page="index">Leaderboards</a></li>
            <li class="nav-section-title">Benchmarks</li>
            <li><a href="original.html" class="nav-link" data-page="original">SWE-bench</a></li>
            <li><a href="https://openai.com/index/introducing-swe-bench-verified/" class="nav-link" data-page="verified">SWE-bench Verified <i class="fas fa-external-link-alt"></i></a></li>
            <li><a href="bash-only.html" class="nav-link" data-page="bash-only">SWE-bench Bash Only</a></li>
            <li><a href="multilingual.html" class="nav-link" data-page="docs">SWE-bench Multilingual</a></li>
            <li><a href="multimodal.html" class="nav-link" data-page="multimodal">SWE-bench Multimodal</a></li>
            <li><a href="lite.html" class="nav-link" data-page="lite">SWE-bench Lite</a></li>
            <li class="nav-section-title">About</li>
            <li><a href="https://openreview.net/pdf?id=VTF8yNQM66" class="nav-link" data-page="paper">Paper <i class="fas fa-external-link-alt"></i></a></li>
            <li><a href="https://swebench.com/SWE-bench/" class="nav-link" data-page="docs">Docs <i class="fas fa-external-link-alt"></i></a></li>
            <li><a href="blog.html" class="nav-link" data-page="blog">Blog</a></li>
            <li><a href="contact.html" class="nav-link" data-page="contact">Contact</a></li>
            <li><a href="citations.html" class="nav-link" data-page="citations">Citations</a></li>
            <li><a href="press.html" class="nav-link" data-page="press">Press</a></li>
            <li><a href="submit.html" class="nav-link" data-page="submit">Submit</a></li>            
            <li class="nav-section-title">SWE-bench Family</li>
            <li><a href="https://swe-agent.com/latest/" class="nav-link" data-page="swe-agent"><img src="img/swe-agent-icon.svg" alt="SWE-agent icon" class="sidebar-family-icon">SWE-agent <i class="fas fa-external-link-alt"></i></a></li>
            <li><a href="https://mini-swe-agent.com/" class="nav-link" data-page="mini-swe-agent"><img src="img/mini-icon.svg" alt="mini-SWE-agent icon" class="sidebar-family-icon">mini-SWE-agent <i class="fas fa-external-link-alt"></i></a></li>
            <li><a href="https://swesmith.com/" class="nav-link" data-page="swe-smith"><img src="img/swe-smith-icon.svg" alt="SWE-smith icon" class="sidebar-family-icon">SWE-smith <i class="fas fa-external-link-alt"></i></a></li>
            <li><a href="https://codeclash.ai/" class="nav-link" data-page="codeclash"><img src="img/codeclash.svg" alt="CodeClash icon" class="sidebar-family-icon">CodeClash <i class="fas fa-external-link-alt"></i></a></li>
            <li><a href="https://swe-rex.com/latest/" class="nav-link" data-page="swe-rex"><img src="img/swe-rex-icon.svg" alt="SWE-ReX icon" class="sidebar-family-icon">SWE-ReX <i class="fas fa-external-link-alt"></i></a></li>
            <li><a href="https://swebench.com/sb-cli/" class="nav-link" data-page="sb-cli"><img src="img/sb-cli-icon.svg" alt="SWE-bench CLI icon" class="sidebar-family-icon">SWE-bench CLI <i class="fas fa-external-link-alt"></i></a></li>
        </ul>
    </nav>
    <div class="sidebar-footer">
        <a href="https://github.com/swe-bench/SWE-bench" target="_blank" rel="noopener noreferrer" aria-label="SWE-bench on GitHub">
            <i class="fab fa-github"></i>
        </a>
        &nbsp;
        <a href="https://www.youtube.com/@SWE-bench" target="_blank" rel="noopener noreferrer" aria-label="SWE-bench on YouTube">
            <i class="fab fa-youtube"></i>
        </a>
        &nbsp;
        <a href="https://twitter.com/SWEbench" target="_blank" rel="noopener noreferrer" aria-label="SWE-bench on Twitter">
            <i class="fab fa-twitter"></i>
        </a>
        &nbsp;
        <a href="https://join.slack.com/t/swe-bench/shared_invite/zt-36pj9bu5s-o3_yXPZbaH2wVnxnss1EkQ" target="_blank" rel="noopener noreferrer" aria-label="Join the SWE-bench Slack">
            <i class="fab fa-slack"></i>
        </a>
        <button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode">
            <i class="fas fa-moon"></i>
        </button>
    </div>
</aside>
    
    <div class="main-content">
        
    <header class="page-header">
        <div class="container">
            <h1>[SWE-bench Verified] Detecting cheating in submissions</h1>
            <p style="color: var(--gray);">
                2025-11-19
                 &bull; by John Yang
                
            </p>
        </div>
    </header>


    <div class="container" style="margin-top: 2em;">
        <div class="blog-content">
            <p><em>Cross posted at John Yang's <a href="https://john-b-yang.github.io/swe-bench-cheating/index.html">personal website</a>.</em></p>
<p>I spent yesterday writing a script for determining how similar model solutions are to the ground truth for the SWE-bench benchmark.
I wanted to know:</p>
<ol>
<li>Generally, how similar are models' submissions to the ground truth? Are models just regurgitating PRs? Or are their solutions novel?</li>
<li>Are there any suspicious submissions in SWE-bench?</li>
</ol>
<p>Generally, I thought about "suspicious" as a SWE-bench submission where a high percentage of the predictions exactly match the reference solution / gold patch.</p>
<p>By "exactly match", I'm referring to a scenario where the gold patch is found <em>verbatim</em> in the gold patch.
Of course, simply doing <code>gold patch == prediction patch</code> of the patch strings doesn't work because of patch metadata, so I do the following minor transformations:</p>
<ol>
<li>I remove all comments from the gold + prediction patches, so we're focused just on code.</li>
<li>I ignore all files in the prediction patch <em>not</em> edited by the gold patch.</li>
<li>I cast the gold/prediction patch strings into a <code>unidiff.PatchSet</code> object, then check if each "hunk" from the gold patch is found verbatim in the prediction patch.</li>
</ol>
<details class="note">
<summary>Click here to see the relevant code (from the <a href="https://github.com/SWE-bench/experiments/blob/main/analysis/detect_similarity.py"><code>detect_similarity.py</code></a> file).</summary>
<pre class="highlight"><code class="language-python">def normalize_hunk(hunk):
    # Remove all comments from a hunk
    lines = []
    for line in hunk:
        if line.line_type == '+' and line.value.strip().startswith('#'):
            continue
        if line.line_type in ('+', '-', ' '):
            lines.append((line.line_type, line.value))
    return lines

def normalize_file(patched_file):
    return [normalize_hunk(hunk) for hunk in patched_file]

def patch_contained_in(orig, pred):
    """Returns True if `orig` found exactly in `pred`"""
    # Remove all comments from patches first
    try:
        orig_files = {f.target_file: normalize_file(f) for f in unidiff.PatchSet(orig)}
    except:
        # SHOULD NEVER HAPPEN
        raise OrigParseError("Failed to parse original patch")
    try:
        pred_files = {f.target_file: normalize_file(f) for f in unidiff.PatchSet(pred)}
    except:
        raise PredParseError("Failed to parse predicted patch")

    # If prediction patch doesn't edit all the files the gold patch edits, assume False
    if not set(orig_files.keys()).issubset(set(pred_files.keys())):
        return False

    for filename, orig_hunks in orig_files.items():
        for orig_hunk in orig_hunks:
            if orig_hunk not in pred_files[filename]:
                # If hunk not found exactly in corresponding prediction file, return False
                return False
    return True</code></pre>
</details>
<p>I then ran our detection script on all SWE-bench Lite and SWE-bench Verified submissions (<a href="http://swebench.com/">Leaderboard</a>, <a href="https://github.com/swe-bench/experiments">Submission Repository</a>).</p>
<p>Findings:</p>
<ol>
<li>The average exact match rate for SWE-bench Verified submissions (excluding one outlier) is 6.7% (~34 out of 500), with a min/max of 0/13%.</li>
<li>For SWE-bench Lite, it's 4% (12/300) with a min/max of 0/11.2%</li>
<li>For SWE-bench, it's 2.45% (~56/2294) with a min/max of 0/4.05%</li>
<li>One submission (<code>20240820_honeycomb</code>) was suspicious, with exact match rates of 78.7/87.2% on Verified/Lite.</li>
</ol>
<p>Below, I graph the % resolved rate and % exact match rate for the submissions in SWE-bench Verified (top), Lite (middle), and Test (bottom) with the highest % exact match rates.</p>
<figure>
    <img alt="Detect Verified" src="img/blog/20251119-cheating/detect_verified.png" width="80%" />
    <figcaption>[SWE-bench Verified] Percentage of predictions matching ground truth exactly</figcaption>
</figure>
<figure>
    <img alt="Detect Lite" src="img/blog/20251119-cheating/detect_lite.png" width="80%" />
    <figcaption>[SWE-bench Lite] Percentage of predictions matching ground truth exactly</figcaption>
</figure>
<figure>
    <img alt="Detect Test" src="img/blog/20251119-cheating/detect_test.png" width="80%" />
    <figcaption>[SWE-bench] Percentage of predictions matching ground truth exactly</figcaption>
</figure>
<p>Going forwards, we plan to run this script for all submissions and ask for clarification on submissions with abnormal (&gt;20%) exact match rates.</p>
<h2>Investigating Honeycomb</h2>
<p>The Honeycomb submission stood out because its exact match rate was very high, and more strangely, far higher than its resolution rate, which prompted a closer look.</p>
<p>I found that <code>evaluation/verified/20240820_honeycomb/all_preds.jsonl</code> contained 2236 predictions, far more than the 500 instances in SWE-bench Verified.
This is probably human error: a file intended for the full split was mistakenly uploaded as a Verified submission.</p>
<p>When I re-ran the analysis on only the 500 Verified instances, the exact match rate dropped to a normal level: 16 / 500 (~3.2%).</p>
<p>In short:</p>
<ol>
<li>Honeycomb uploaded predictions covering the full test set (2236 instances).</li>
<li>Our pipeline correctly evaluated only the relevant 500 Verified instances.</li>
<li>Within those 500, there was no suspicious behavior.</li>
</ol>
<p>What is strange is that the remaining 1,736 instances had an extremely high exact match rate. The most plausible explanation is that these were not true model predictions, but accidentally included gold solutions (or near-identical copies). Since the properly-evaluated subset looks normal, this points to a formatting mistake rather than intentional cheating.</p>
<p>I also checked the Honeycomb test split submission separately; its exact match rate was 1.7%, which is completely normal.</p>
<p>Overall, this appears to be a submission error â€” though it served as a useful stress test for the detection mechanism.</p>
<p>(Note: the submission was removed a while ago for an unrelated reason. We reached out for a technical report but received no response.)</p>
        </div>
        
        <hr style="margin-top: 3em;" />
        <p style="text-align: center;">
            <a href="blog.html">&larr; Back to Blog</a>
        </p>
    </div>

        
        <footer class="footer">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-copyright">
                        &copy; 2025 SWE-bench Team. All rights reserved.
                    </div>
                    <div class="footer-links">
                        <a href="https://github.com/swe-bench/SWE-bench" target="_blank">GitHub</a>
                        <a href="https://huggingface.co/collections/SWE-bench/benchmarks-68113bc99eb3a64a91ea33c9" target="_blank">HuggingFace</a>
                        <a href="https://arxiv.org/abs/2310.06770" target="_blank">Paper</a>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Common JS files -->
    <script src="js/mainResults.js"></script>
    <script src="js/citation.js"></script>
    <script src="js/citationFormat.js"></script>
    
    <!-- Page-specific JS files will be injected here -->
    

    <script>
        function initTheme() {
            const themeToggle = document.getElementById('theme-toggle');
            const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
            
            // Move dark-mode class from documentElement to body if present
            if (document.documentElement.classList.contains('dark-mode')) {
                document.body.classList.add('dark-mode');
                document.documentElement.classList.remove('dark-mode');
            }
            
            if (themeToggle) {
                themeToggle.addEventListener('click', () => {
                    document.body.classList.toggle('dark-mode');
                    
                    const isDarkMode = document.body.classList.contains('dark-mode');
                    localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');
                });
            }
            
            prefersDarkScheme.addEventListener('change', (e) => {
                if (!localStorage.getItem('theme')) {
                    if (e.matches) {
                        document.body.classList.add('dark-mode');
                    } else {
                        document.body.classList.remove('dark-mode');
                    }
                }
            });
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            initTheme();
            
            const currentPath = window.location.pathname;
            const currentPage = currentPath.split('/').pop().split('.')[0] || 'index';
            
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                const linkPage = link.getAttribute('data-page');
                if (linkPage === currentPage) {
                    link.classList.add('active');
                }
                
                if (currentPage === 'index' && window.location.hash) {
                    const currentHash = window.location.hash.substring(1);
                    if (linkPage === currentHash) {
                        link.classList.add('active');
                    }
                }
            });
            
            const sidebarOpener = document.querySelector('.sidebar-opener');
            const sidebarCloser = document.querySelector('.sidebar .mobile-nav-toggle');
            const sidebar = document.querySelector('.sidebar');
            const overlay = document.querySelector('.sidebar-overlay');
            
            if ((sidebarOpener || sidebarCloser) && sidebar && overlay) {
                function toggleMenu() {
                    sidebar.classList.toggle('open');
                    overlay.classList.toggle('active');
                }
                
                function openMenu() {
                    sidebar.classList.add('open');
                    overlay.classList.add('active');
                }
                
                function closeMenu() {
                    sidebar.classList.remove('open');
                    overlay.classList.remove('active');
                }
                
                if (sidebarOpener) {
                    sidebarOpener.addEventListener('click', function(e) {
                        e.preventDefault();
                        openMenu();
                    });
                }
                
                if (sidebarCloser) {
                    sidebarCloser.addEventListener('click', function(e) {
                        e.preventDefault();
                        closeMenu();
                    });
                }
                
                overlay.addEventListener('click', function(e) {
                    e.preventDefault();
                    closeMenu();
                });
                
                navLinks.forEach(link => {
                    link.addEventListener('click', () => {
                        if (sidebar.classList.contains('open')) {
                            closeMenu();
                        }
                    });
                });
                
                document.addEventListener('keydown', function(e) {
                    if (e.key === 'Escape' && sidebar.classList.contains('open')) {
                        closeMenu();
                    }
                });
            }
        });
    </script>

    
    <!-- Optional page-specific scripts -->
    
</body>
</html> 